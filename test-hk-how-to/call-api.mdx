---
title: "Call API"
description: "GET, POST API를 호출하여 데이터를 조회해서 렌더링하거나, 입력 데이터 값을 전달하는 UI를 만들어 API 호출시 활용할 수 있습니다."
---

### Display rows from JSON

JSON 샘플 데이터(Sample/Mock data)를 렌더링합니다.

- `method: GET`

```yaml
blocks:
  - type: http
    method: GET
    fetchFn: |
      return [
        { name: 'hey' },
        { name: 'good day' },
      ]
```

#### **Display rows from Fetch API**

Fetch API를 활용해 데이터를 가져와 테이블로 렌더링합니다.

```yaml
blocks:
  - type: http
    method: GET
    fetchFn: |
      const r = await fetch('https://api.selectfromuser.com/sample-api/wines?page=1&limit=10')

      const data = await r.json()

      return data.rows
```

#### **Display rows from Axios API**

Axios 방식으로 API를 호출 할 수 있습니다.

```yaml
blocks:
  - type: http
    method: GET
    fetchFn: |
      const r = await axios.get(`https://api.selectfromuser.com/sample-api/wines?page=1&limit=10`)
      
      const rows = r.data.rows
      
      return rows
    paginationOptions:
      enabled: true
      perPage: 3
```

### Filter by input parameter

```yaml
blocks:
  - type: http
    method: GET
    fetchFn: |
      const q = name || 'all'
      return [
        { id: 1, keyword: q, result: 'mock-1' },
        { id: 2, keyword: q, result: 'mock-2' }
      ]
    params:
      - key: name
        placeholder: 검색어 입력
```

### Error handling

```yaml
blocks:
  - type: http
    method: GET
    fetchFn: |
      if (!q) {
        return { error: '검색어 없음' }
      }
      return [{ id: 1, q, value: 'ok' }]
    params:
      - key: q
        placeholder: 검색어
```

### Post data from input parameter

- `method: POST`

```yaml
blocks:
  - type: http
    method: POST
    fetchFn: |
      if (!text) {
        return { error: 'text is required' }
      }
      return {
        message: 'Post created',
        text,
      }
    params:
      - key: text
        label: 텍스트 입력
        format: textarea
```